extends ../layout

block title
  | import book

block content
  h1 content
  .section
      #wrapper
          noscript
            | JavaScript is either not supported or disabled in your browser. Please activate it or use a browser that supports JavaScript.
          p Loading..
          p
            | If you see this message for more than a second or so, your browser isn't supported.
          p The site has only been tested to work in Chromium 5 and Firefox 3.6.
      #templates
        script(type='text/html', data-template-name='choose_file')
          <if inputFileReadSupported>
          <p><input type="file" /></p>
          <p><button class=read>Read</button></p>
          <div class="error">
          </div>
          </if>
          <else>
          <div class="error">
          <p>Your browser does not support the HTML5 <code>FileReader</code> object.</p>
          <p>It's in the HTML5 spec, but as of now, the only known browsers implementing it are:</p>
          <ul>
          <li><a href="http://getfirefox.com/">Firefox 3.6 or newer</a></li>
          <li><a href="http://www.chromium.org/getting-involved/dev-channel">Chrome 6 or newer</a></li>
          </ul>
          </div>
          </else>
        script(type='text/html', data-template-name='loading')
          <h2>Loading...</h2>
          <p id="message"></p>
        script(type='text/html', data-template-name='reader')
          <div id="book_content"></div>

